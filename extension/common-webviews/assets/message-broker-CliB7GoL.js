import{an as i,W as T}from"./Icon-CaBYD5oO.js";try{s=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},(a=new s.Error().stack)&&(s._sentryDebugIds=s._sentryDebugIds||{},s._sentryDebugIds[a]="17f1c082-12a8-4354-9ba1-52e153a6a11f",s._sentryDebugIdIdentifier="sentry-dbid-17f1c082-12a8-4354-9ba1-52e153a6a11f")}catch{}var s,a,o=(t=>(t[t.TEXT=0]="TEXT",t[t.TOOL_RESULT=1]="TOOL_RESULT",t[t.IMAGE=2]="IMAGE",t[t.IMAGE_ID=3]="IMAGE_ID",t[t.IDE_STATE=4]="IDE_STATE",t[t.EDIT_EVENTS=5]="EDIT_EVENTS",t[t.CHECKPOINT_REF=6]="CHECKPOINT_REF",t[t.CHANGE_PERSONALITY=7]="CHANGE_PERSONALITY",t[t.FILE=8]="FILE",t[t.FILE_ID=9]="FILE_ID",t))(o||{}),u=(t=>(t[t.IMAGE_FORMAT_UNSPECIFIED=0]="IMAGE_FORMAT_UNSPECIFIED",t[t.PNG=1]="PNG",t[t.JPEG=2]="JPEG",t[t.GIF=3]="GIF",t[t.WEBP=4]="WEBP",t))(u||{}),c=(t=>(t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.USER_EDIT=1]="USER_EDIT",t[t.CHECKPOINT_REVERT=2]="CHECKPOINT_REVERT",t))(c||{}),I=(t=>(t[t.CONTENT_TYPE_UNSPECIFIED=0]="CONTENT_TYPE_UNSPECIFIED",t[t.CONTENT_TEXT=1]="CONTENT_TEXT",t[t.CONTENT_IMAGE=2]="CONTENT_IMAGE",t))(I||{}),_=(t=>(t[t.RAW_RESPONSE=0]="RAW_RESPONSE",t[t.SUGGESTED_QUESTIONS=1]="SUGGESTED_QUESTIONS",t[t.MAIN_TEXT_FINISHED=2]="MAIN_TEXT_FINISHED",t[t.TOOL_USE=5]="TOOL_USE",t[t.AGENT_MEMORY=6]="AGENT_MEMORY",t[t.TOOL_USE_START=7]="TOOL_USE_START",t[t.THINKING=8]="THINKING",t[t.BILLING_METADATA=9]="BILLING_METADATA",t[t.TOKEN_USAGE=10]="TOKEN_USAGE",t))(_||{}),m=(t=>(t.chat="CHAT",t.agent="AGENT",t.remoteAgent="REMOTE_AGENT",t.memories="MEMORIES",t.orientation="ORIENTATION",t.memoriesCompression="MEMORIES_COMPRESSION",t.cliAgent="CLI_AGENT",t.cliNoninteractive="CLI_NONINTERACTIVE",t))(m||{}),N=(t=>(t[t.DEFAULT=0]="DEFAULT",t[t.PROTOTYPER=1]="PROTOTYPER",t[t.BRAINSTORM=2]="BRAINSTORM",t[t.REVIEWER=3]="REVIEWER",t))(N||{}),A=(t=>(t[t.ALWAYS_ATTACHED=0]="ALWAYS_ATTACHED",t[t.MANUAL=1]="MANUAL",t[t.AGENT_REQUESTED=2]="AGENT_REQUESTED",t))(A||{});const h="augment-welcome";var g=(t=>(t.draft="draft",t.sent="sent",t.failed="failed",t.success="success",t.cancelled="cancelled",t))(g||{}),S=(t=>(t.running="running",t.awaitingUserAction="awaiting-user-action",t.notRunning="not-running",t))(S||{}),d=(t=>(t.seen="seen",t.unseen="unseen",t))(d||{}),O=(t=>(t.signInWelcome="sign-in-welcome",t.generateCommitMessage="generate-commit-message",t.summaryResponse="summary-response",t.summaryTitle="summary-title",t.educateFeatures="educate-features",t.agentOnboarding="agent-onboarding",t.agenticTurnDelimiter="agentic-turn-delimiter",t.agenticRevertDelimiter="agentic-revert-delimiter",t.agenticCheckpointDelimiter="agentic-checkpoint-delimiter",t.exchange="exchange",t.exchangePointer="exchange-pointer",t.historySummary="history-summary",t))(O||{});function p(t){return e(t)||function(n){return n.chatItemType==="generate-commit-message"}(t)||r(t)}function e(t){return!!t&&(t.chatItemType===void 0||r(t)||R(t))}function l(t){return e(t)&&t.status==="success"}function M(t){return!!t&&t.chatItemType==="exchange-pointer"}function y(t){return t.chatItemType==="sign-in-welcome"}function R(t){return t.chatItemType==="summary-response"}function D(t){return t.chatItemType==="educate-features"}function r(t){return t.chatItemType==="agent-onboarding"}function C(t){return t.chatItemType==="agentic-checkpoint-delimiter"}function G(t){return t.chatItemType==="history-summary"}function P(t){return t.revertTarget!==void 0}function U(t){return t.structured_output_nodes?.some(n=>n.type===5)??!1}function L(t){return t.structured_request_nodes?.some(n=>n.type===1)??!1}function F(t){return!(!t||typeof t!="object")&&(!("request_id"in t)||typeof t.request_id=="string")&&(!("seen_state"in t)||t.seen_state==="seen"||t.seen_state==="unseen")}function b(t){return t?.status==="success"||t?.status==="failed"||t?.status==="cancelled"}class H extends i{constructor(n){super(E=>{this._host.postMessage(E)}),this._host=n,this.onMessageFromExtension=this.onMessageFromExtension.bind(this)}_consumers=[];dispose(){this._consumers=[]}postMessage(n){this._host.postMessage(n)}registerConsumer(n){this._consumers.push(n)}onMessageFromExtension(n){n.data.type!==T.asyncWrapper&&this._consumers.forEach(E=>{E.handleMessageFromExtension(n)})}}export{S as A,_ as C,g as E,u as I,H as M,N as P,A as R,d as S,o as a,m as b,b as c,O as d,L as e,C as f,r as g,U as h,e as i,P as j,F as k,y as l,R as m,p as n,D as o,G as p,c as q,l as r,I as s,M as t,h as u};
//# sourceMappingURL=message-broker-CliB7GoL.js.map
