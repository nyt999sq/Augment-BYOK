import{v as ee,Y as ae,at as M,W as T,H as m,X as te,aG as re,Q as y,R as k,P as u,a3 as x,N as n,B as ie,C as se,F as c,Z as b,z as e,aI as oe,K as B,L as O,J as $,A as R,T as ne,ae as de,ak as le,D as ce,aJ as me,aH as ve}from"./Icon-CaBYD5oO.js";import"./design-system-init-DCR3FqZN.js";import{I as z,a as fe}from"./IconButtonAugment-Rffikxkp.js";import{t as ge,f as ue}from"./index-Ct3ef_qL.js";import{S as be,M as he}from"./index-DF_yYUtg.js";import{aH as pe}from"./mermaid-Bezvo2Lx.js";import"./_commonjsHelpers-CwkBNZ52.js";try{g=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},(H=new g.Error().stack)&&(g._sentryDebugIds=g._sentryDebugIds||{},g._sentryDebugIds[H]="e10276bb-8a2b-457f-8352-939cee8f81b7",g._sentryDebugIdIdentifier="sentry-dbid-e10276bb-8a2b-457f-8352-939cee8f81b7")}catch{}var g,H,we=m('<div class="c-mermaid-center svelte-wbkhtc"><!></div>'),ye=m('<div class="c-mermaid-center svelte-wbkhtc"><!> <!></div>'),ke=m('<div class="c-mermaid-diagram svelte-wbkhtc"></div>'),$e=m('<div class="c-mermaid-code svelte-wbkhtc"><!></div>'),De=m("<!> <!> <!>",1),Ie=m('<div class="c-mermaid-controls svelte-wbkhtc"><!> <!></div>'),ze=m('<div class="c-mermaid-diagram-panel svelte-wbkhtc"><div class="c-mermaid-content svelte-wbkhtc"><!></div> <!></div>');ve(function(W,J){ee(J,!0);const[L,Z]=se();let h=b(null),D=b(!1),I=b(void 0),_=b(void 0),E=b(void 0),v=b("diagram");function A(a){c(D,a,!0)}function G(a){c(I,a,!0)}let K=R(()=>ce(me,"$themeStore",L)?.category);ae(()=>{M.postMessage({type:T.mermaidDiagramPanelLoaded})});var S=ze();te("message",re,function(a){const t=a.data;t?.type===T.mermaidDiagramPanelSetOpts&&(c(h,t.data,!0),c(D,!1),M.setState({diagramDefinition:t.data.diagramDefinition,title:t.data.title}))});var F=u(S),Q=u(F),X=a=>{var t=we(),f=u(t);oe(f,{size:2}),ge(5,t,()=>ue,()=>({duration:200})),n(a,t)},Y=a=>{var t=B(),f=O(t),P=i=>{var o=ye(),d=u(o);$(d,{name:"circle-alert"});var l=k(d,2);ne(l,{color:"error",children:(p,r)=>{var s=de("Failed to render diagram");n(p,s)},$$slots:{default:!0}}),n(i,o)},C=i=>{var o=B(),d=O(o),l=r=>{var s=ke();x(s,w=>c(E,w),()=>e(E)),fe(s,(w,N)=>pe?.(w,N),()=>({text:e(h).diagramDefinition,canRender:()=>!0,setError:A,setContainerPosition:()=>{},setPanZoomController:G,themeCategory:e(K),setSvg:()=>{},height:"100%",enableWheelNavigation:!0,resetOnResize:!1})),n(r,s)},p=r=>{var s=$e(),w=u(s);le(w,()=>he.Root,(N,U)=>{U(N,{children:(V,Se)=>{be(V,{get text(){return e(h).diagramDefinition},lang:"mermaid",options:{readOnly:!0,lineNumbers:"on",folding:!0,wordWrap:"on",lineDecorationsWidth:0,lineNumbersMinChars:3}})},$$slots:{default:!0}})}),n(r,s)};y(d,r=>{e(v)==="diagram"?r(l):r(p,!1)},!0),n(i,o)};y(f,i=>{e(D)?i(P):i(C,!1)},!0),n(a,t)};y(Q,a=>{e(h)?a(Y,!1):a(X)});var j=k(F,2),q=a=>{var t=Ie(),f=u(t),P=i=>{var o=De(),d=O(o);z(d,{onclick:()=>e(I)?.zoomIn(),color:"neutral",variant:"soft",children:(r,s)=>{$(r,{name:"zoom-in"})},$$slots:{default:!0}});var l=k(d,2);z(l,{onclick:()=>e(I)?.zoomOut(),color:"neutral",variant:"soft",children:(r,s)=>{$(r,{name:"zoom-out"})},$$slots:{default:!0}});var p=k(l,2);z(p,{onclick:()=>e(I)?.reset(),color:"neutral",variant:"soft",title:"Fit view",children:(r,s)=>{$(r,{name:"refresh-ccw"})},$$slots:{default:!0}}),n(i,o)};y(f,i=>{e(v)==="diagram"&&i(P)});var C=k(f,2);{let i=R(()=>e(v)==="diagram"?"Show code":"Show diagram");z(C,{onclick:()=>c(v,e(v)==="diagram"?"code":"diagram",!0),color:"neutral",variant:"soft",get title(){return e(i)},children:(o,d)=>{{let l=R(()=>e(v)==="diagram"?"code":"workflow");$(o,{get name(){return e(l)}})}},$$slots:{default:!0}})}n(a,t)};y(j,a=>{e(h)&&!e(D)&&a(q)}),x(S,a=>c(_,a),()=>e(_)),n(W,S),ie(),Z()},{target:document.getElementById("app")});
//# sourceMappingURL=mermaid-diagram-CBWOvkDX.js.map
