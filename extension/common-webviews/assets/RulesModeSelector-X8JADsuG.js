import{v as he,x as te,aa as c,F as l,m as t,ab as S,z as e,ac as pe,C as ge,ad as $e,G as ye,K as ne,L as m,Q as Y,I as w,N as a,B as me,ae as A,a3 as we,H as _,J as Ae,S as q,a7 as F,P as Te,R as J,af as Re,O as Ee,ag as Ie,D as De}from"./Icon-CaBYD5oO.js";import{B as K}from"./ButtonAugment-DECgcPdk.js";import{A as Se,D as h}from"./extension-client-context-CwKdOhUw.js";import{T as oe}from"./TextTooltipAugment-B4cqQh4H.js";import{R as x}from"./message-broker-CliB7GoL.js";try{v=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},(le=new v.Error().stack)&&(v._sentryDebugIds=v._sentryDebugIds||{},v._sentryDebugIds[le]="017bb8b9-73c5-4e34-b145-bcd2b89e85ef",v._sentryDebugIdIdentifier="sentry-dbid-017bb8b9-73c5-4e34-b145-bcd2b89e85ef")}catch{}var v,le,xe=_('<div class="c-dropdown-label svelte-xm5ow9"><!></div>'),_e=_("<!> <!>",1),ze=_("<!> <!>",1),Ce=_("<!> <!>",1);function ke(O,z){he(z,!1);const T=()=>De(e(j),"$focusedIndex",P),[P,re]=ge(),C=t(),L=t(),N=t(),Q=t(),R=t(),b=t(),n=t(),j=t();let ie=te(z,"onSave",8),s=te(z,"rule",8);const U={label:"Always",value:x.ALWAYS_ATTACHED,description:"These Rules will be included in every message you send to the agent."},V={label:"Manual",value:x.MANUAL,description:"These Rules will be included when manually tagged in your message. You can tag Rules by @-mentioning them."},de={label:"Auto",value:x.AGENT_REQUESTED,description:"These Rules will be included when the Agent decides to fetch them based on this file's description."};let p=t();c(()=>S(s()),()=>{l(C,s().path)}),c(()=>S(s()),()=>{l(L,s().type)}),c(()=>S(s()),()=>{l(N,s().settingsStored)}),c(()=>S(s()),()=>{l(Q,s().source)}),c(()=>e(Q),()=>{l(R,e(Q)==="user")}),c(()=>(e(R),e(N)),()=>{l(b,e(R)?[U]:e(N)?[U,V]:[U,V,de])}),c(()=>(e(b),e(L)),()=>{l(n,e(b).find(o=>o.value===e(L)))}),c(()=>e(p),()=>{pe(l(j,e(p)?.focusedIndex),"$focusedIndex",P)}),$e(),ye();var X=ne(),ce=m(X),ue=o=>{oe(o,{content:"Workspace guidelines are always applied",children:(u,Z)=>{K(u,{color:"accent",size:1,disabled:!0,children:(G,ee)=>{var r=A("Always");a(G,r)},$$slots:{default:!0}})},$$slots:{default:!0}})},be=o=>{var u=ne(),Z=m(u),G=r=>{oe(r,{content:"User rules are always applied",children:(g,fe)=>{K(g,{color:"accent",size:1,disabled:!0,children:(E,k)=>{var B=A("Always");a(E,B)},$$slots:{default:!0}})},$$slots:{default:!0}})},ee=r=>{we(h.Root(r,{children:(g,fe)=>{var E=Ce(),k=m(E);h.Trigger(k,{children:(H,ve)=>{var $=xe(),I=Te($);K(I,{color:"neutral",size:1,variant:"soft",children:(y,M)=>{var i=A();q(()=>F(i,(e(n),w(()=>e(n).label)))),a(y,i)},$$slots:{default:!0,iconRight:(y,M)=>{Ae(y,{slot:"iconRight",name:"chevron-down"})}}}),a(H,$)},$$slots:{default:!0}});var B=J(k,2);h.Content(B,{side:"bottom",align:"start",children:(H,ve)=>{var $=ze(),I=m($);Re(I,1,()=>e(b),Ie,(i,d)=>{{let D=Ee(()=>(e(n),e(d),w(()=>e(n).label===e(d).label)));h.Item(i,{onSelect:()=>async function(f){e(p)?.requestClose(),ie()(f.value,f.value!==x.AGENT_REQUESTED||s().description?s().description:"Example description")}(e(d)),get highlight(){return e(D)},children:(f,ae)=>{var W=A();q(()=>F(W,(e(d),w(()=>e(d).label)))),a(f,W)},$$slots:{default:!0}})}});var y=J(I,2),M=i=>{var d=_e(),D=m(d);h.Separator(D,{});var f=J(D,2);h.Label(f,{children:(ae,W)=>{var se=A();q(()=>F(se,(T(),e(b),e(n),w(()=>T()!==void 0?e(b)[T()].description:e(n).description)))),a(ae,se)},$$slots:{default:!0}}),a(i,d)};Y(y,i=>{(T()!==void 0||e(n))&&i(M)}),a(H,$)},$$slots:{default:!0}}),a(g,E)},$$slots:{default:!0},$$legacy:!0}),g=>l(p,g),()=>e(p))};Y(Z,r=>{e(R)?r(G):r(ee,!1)},!0),a(o,u)};Y(ce,o=>{e(C),w(()=>{return u=e(C),Se===u;var u})?o(ue):o(be,!1)}),a(O,X),me(),re()}export{ke as R};
//# sourceMappingURL=RulesModeSelector-X8JADsuG.js.map
